<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/"
      id="t243ED1D-BDF2-11F0-7005-09173F13E4C5"
      xml:lang="en"
      ditaarch:DITAArchVersion="1.3"
      domains="(topic task)                            (topic abbrev-d)                            a(props deliveryTarget)                            (topic equation-d)                            (topic hazard-d)                            (topic hi-d)                            (topic indexing-d)                            (topic markup-d)                            (topic mathml-d)                            (topic pr-d)                            (topic relmgmt-d)                            (topic sw-d)                            (topic svg-d)                            (topic ui-d)                            (topic ut-d)                            (topic markup-d xml-d)                            (topic task strictTaskbody-c)   "
      class="- topic/topic task/task ">
   <title class="- topic/title ">To set up a connection to your Dynamics instance</title>
   <prolog>
      <author>Yashshree</author>
      <critdates class="- topic/critdates ">
         <created date="2025-11-24+05:30" class="- topic/created "/>
         <revised modified="2025-11-24" class="- topic/revised "/>
      </critdates>
      
      <metadata>
         <audience type="role" otherprops="production,maintenance,quality,safety,engineering,management"/>
         
         <keywords>
            <!-- Product -->
            <indexterm>metr-365-power</indexterm>
            <indexterm>dynamics-365</indexterm>
            <indexterm>dynamics-instance</indexterm>
            <indexterm>crm-environment</indexterm>
            <indexterm>oauth-client</indexterm>
            <indexterm>connection-settings</indexterm>
            
            <!-- Process -->
            <indexterm>set-up-dynamics-instance</indexterm>
            <indexterm>configure-crm-url</indexterm>
            <indexterm>validate-instance-connection</indexterm>
            <indexterm>map-instance-fields</indexterm>
            <indexterm>test-authentication</indexterm>
            <indexterm>establish-connection-context</indexterm>
            
            <!-- Context -->
            <indexterm>revenue-lifecycle-management</indexterm>
            <indexterm>revenue-operations</indexterm>
            <indexterm>revenue-lifecycle-management</indexterm>
            <indexterm>crm-integration</indexterm>
            <indexterm>system-administration</indexterm>
            <indexterm>cloud-environment</indexterm>
         </keywords>
         
         <prodinfo>
            <prodname>metR-365-Power</prodname>
            <platform>web</platform>
         </prodinfo>
         
         <othermeta name="title" content="To set up a connection to your Dynamics instance"/>
         <othermeta name="shortdesc" content="Current Dynamics instance connection details are used for establishing the integration with Power, irrespective of the Dynamics 365 connection configured."/>
         <othermeta name="language" content="en-GB"/>
         <othermeta name="version" content="1.0.0"/>
         <othermeta name="docStage" content="approved"/>
         <othermeta name="access.role" content="internal"/>
         <othermeta name="data.classification" content="non-sensitive"/>
         <othermeta name="retention.policy" content="standard-36m"/>
         
         <othermeta name="entities" content="dynamics-instance;crm-url;environment-id;authentication-token;connection-profile;integration-context"/>
         <othermeta name="taxonomy" content="domain:revenue-operations;usecase:set-up-dynamics-instance;industry:revenue-lifecycle-management"/>
         <othermeta name="tags" content="dynamics-instance,crm,authentication,integration,data-sync,configuration"/>
         <othermeta name="usecase" content="set-up-dynamics-instance"/>
      </metadata>
   </prolog>
   <taskbody>
      <context class="- topic/section task/context ">
         <note type="note" class="- topic/note ">
            <p class="- topic/p ">Current Dynamics instance connection details are used for establishing the connection with Power, irrespective of the Dynamics 365 connection configured.</p>
         </note>
      </context>
      <steps class="- topic/ol task/steps ">
         <step class="- topic/li task/step ">
            <cmd class="- topic/ph task/cmd ">Open the Power-Dynamics 365 Connector.</cmd>
         </step>
         <step class="- topic/li task/step ">
            <cmd class="- topic/ph task/cmd ">Under Groups in the left side panel, select <uicontrol class="+ topic/ph ui-d/uicontrol ">Connections</uicontrol>. A list of connections is displayed (if this is the first time you are using the connector you will see two connections: <uicontrol class="+ topic/ph ui-d/uicontrol ">Power</uicontrol> and <uicontrol class="+ topic/ph ui-d/uicontrol ">Dynamics 365</uicontrol>).</cmd>
         </step>
         <step class="- topic/li task/step ">
            <cmd class="- topic/ph task/cmd ">To configure the Dynamics connection, click the hyperlink corresponding to the Connection Name.</cmd>
         </step>
         <step class="- topic/li task/step ">
            <cmd class="- topic/ph task/cmd ">Enter the following information in the fields provided:</cmd>
            <info class="- topic/itemgroup task/info ">
               <p class="- topic/p ">
                  <table class="- topic/table ">
                     <tgroup cols="3" class="- topic/tgroup ">
                        <colspec colname="col1" class="- topic/colspec "/>
                        <colspec colname="col2" class="- topic/colspec "/>
                        <colspec colname="col3" class="- topic/colspec "/>
                        <thead class="- topic/thead ">
                           <row class="- topic/row ">
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Field</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Description</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Notes / Example</p>
                              </entry>
                           </row>
                        </thead>
                        <tbody class="- topic/tbody ">
                           <row class="- topic/row ">
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Name</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">A name for the connection</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">This is seeded (read-only) and cannot be changed: Dynamics 365</p>
                              </entry>
                           </row>
                           <row class="- topic/row ">
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Type</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">CRM type (Dynamics)</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">This is seeded (read-only) and cannot be changed: Dynamics365</p>
                              </entry>
                           </row>
                           <row class="- topic/row ">
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Username</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">User name of the service account in Dynamics</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Account must have full read, write, and delete permissions for the objects being synced and must be a service account</p>
                              </entry>
                           </row>
                           <row class="- topic/row ">
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Password</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Password for service account user</p>
                              </entry>
                              <entry class="- topic/entry "/>
                           </row>
                           <row class="- topic/row ">
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">IsActive</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Indicates whether the connection can be selected when setting up a sync group</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Yes / No. This flag is set to 'Yes' for the initial connections set up when the connector is first installed. If set to 'No' and the connector version is updated (package is redeployed), a new connection is created with IsActive set to 'Yes'.</p>
                                 <note type="note" class="- topic/note ">
                                    <p class="- topic/p ">You cannot have more than one active Dynamics 365 connection at a time.</p>
                                 </note>
                              </entry>
                           </row>
                           <row class="- topic/row ">
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Client Id</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">The client Id you generated in the previous task</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">See <xref href="https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/walkthrough-register-app-active-directory"
                                          format="html"
                                          scope="external"
                                          class="- topic/xref ">https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/walkthrough-register-app-active-directory</xref>
                                 </p>
                              </entry>
                           </row>
                           <row class="- topic/row ">
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Client Secret</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">The client secret you generated in the previous task</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">See <xref href="https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/walkthrough-register-app-active-directory"
                                          format="html"
                                          scope="external"
                                          class="- topic/xref ">https://docs.microsoft.com/en-us/dynamics365/customerengagement/on-premises/developer/walkthrough-register-app-active-directory</xref>
                                 </p>
                              </entry>
                           </row>
                           <row class="- topic/row ">
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Redirect URL</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">The Redirect URL from the previous task</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Example: "<xref href="http://localhost/datasync"
                                          format="html"
                                          scope="external"
                                          class="- topic/xref ">http://localhost/datasync</xref>"</p>
                              </entry>
                           </row>
                           <row class="- topic/row ">
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Service URL</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">URL of the Dynamics server</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Example: https://&lt;host&gt;.<xref href="http://crm.dynamics.com"
                                          format="html"
                                          scope="external"
                                          class="- topic/xref ">crm.dynamics.com</xref>"</p>
                              </entry>
                           </row>
                           <row class="- topic/row ">
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Power Automate ConnectionId</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">The connection Id for the Power Automate flow (enables sync scheduling)</p>
                              </entry>
                              <entry class="- topic/entry ">
                                 <p class="- topic/p ">Copy this value from the previous task. Example value: 11ffc2be-c465-446b-a4c1-d10fbad39834</p>
                              </entry>
                           </row>
                        </tbody>
                     </tgroup>
                  </table>
               </p>
            </info>
         </step>
         <step class="- topic/li task/step ">
            <cmd class="- topic/ph task/cmd ">Click <uicontrol class="+ topic/ph ui-d/uicontrol ">Save</uicontrol>.</cmd>
            <info class="- topic/itemgroup task/info ">
               <p class="- topic/p ">To edit an existing connection, click the Connection Name on the Connections
                  page.</p>
            </info>
         </step>
      </steps>
   </taskbody>
</task>
