<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/"
         id="NMCFirmware-68EE261B"
         translate="yes"
         xml:lang="en"
         ditaarch:DITAArchVersion="1.3"
         domains="(topic concept)                            (topic abbrev-d)                            a(props deliveryTarget)                            (topic equation-d)                            (topic hazard-d)                            (topic hi-d)                            (topic indexing-d)                            (topic markup-d)                            (topic mathml-d)                            (topic pr-d)                            (topic relmgmt-d)                            (topic sw-d)                            (topic svg-d)                            (topic ui-d)                            (topic ut-d)                            (topic markup-d xml-d)   "
         class="- topic/topic concept/concept ">
   <title class="- topic/title ">NMC Firmware</title>
   <prolog>
      <author>Pallavi</author>
      <critdates class="- topic/critdates ">
         <created date="2025-12-05+05:30" class="- topic/created "/>
         <revised modified="2025-12-05" class="- topic/revised "/>
      </critdates>
      <metadata>
         <audience type="role" otherprops="production,maintenance,quality,safety,engineering,management"/>
         <keywords>
            <!-- Product layer -->
            <indexterm>metr-pxc-reality</indexterm>
            <indexterm>nmc-firmware</indexterm>
            <indexterm>firmware-image</indexterm>
            <indexterm>mfiletransfer</indexterm>
            <indexterm>firmware-agent</indexterm>
            <indexterm>bootloader</indexterm>
            <!-- Process layer -->
            <indexterm>firmware-upgrade</indexterm>
            <indexterm>image-transfer</indexterm>
            <indexterm>upgrade-verification</indexterm>
            <indexterm>rollback-procedure</indexterm>
            <indexterm>firmware-recovery</indexterm>
            <indexterm>checksum-validation</indexterm>
            <!-- Context layer -->
            <indexterm>maintenance-window</indexterm>
            <indexterm>remote-update</indexterm>
            <indexterm>service-packaging</indexterm>
            <indexterm>compatibility-testing</indexterm>
            <indexterm>field-service</indexterm>
            <indexterm>ups-network-management</indexterm>
         </keywords>
         <prodinfo>
            <prodname>metR-PXC-Reality</prodname>
            <platform>web</platform>
         </prodinfo>
         <othermeta name="title" content="NMC Firmware"/>
         <othermeta name="shortdesc" content="Details on the firmware used by the Network Management Card, including upgrade mechanics, transfer statuses and recovery actions."/>
         <othermeta name="language" content="en-GB"/>
         <othermeta name="version" content="1.0.0"/>
         <othermeta name="docStage" content="approved"/>
         <othermeta name="access.role" content="internal"/>
         <othermeta name="data.classification" content="non-sensitive"/>
         <othermeta name="retention.policy" content="standard-36m"/>
         <othermeta name="entities" content="firmware-image; mfiletransfer-status; checksum; transfer-log; boot-sequence; recovery-mode"/>
         <othermeta name="taxonomy" content="domain:industrial-engineering;usecase:nmc-firmware-management-and-upgrade;industry: uninterruptible power supply (UPS) systems"/>
         <othermeta name="tags" content="firmware,upgrade,transfer,recovery,checksum,bootloader"/>
         <othermeta name="usecase" content="manage and upgrade NMC firmware, validate transfers and perform recovery if required"/>
      </metadata>
   </prolog>
   
   <conbody>
      <section class="- topic/section ">
         <sectiondiv class="- topic/sectiondiv ">
            <p class="- topic/p ">The firmware for the NMC card in a Reality system
consists of three modules:<table class="- topic/table ">
                  <tgroup cols="3" class="- topic/tgroup ">
                     <colspec colname="col1" class="- topic/colspec "/>
                     <colspec colname="col2" class="- topic/colspec "/>
                     <colspec colname="col3" class="- topic/colspec "/>
                     <thead class="- topic/thead ">
                        <row class="- topic/row ">
                           <entry valign="top" class="- topic/entry ">
                              <p class="- topic/p ">Module Name</p>
                           </entry>
                           <entry valign="top" class="- topic/entry ">
                              <p class="- topic/p ">Description</p>
                           </entry>
                           <entry valign="top" class="- topic/entry ">
                              <p class="- topic/p ">Example
File Name</p>
                           </entry>
                        </row>
                     </thead>
                     <tbody class="- topic/tbody ">
                        <row class="- topic/row ">
                           <entry class="- topic/entry ">
                              <p class="- topic/p ">Application module (APP)</p>
                           </entry>
                           <entry class="- topic/entry ">
                              <p class="- topic/p ">The Reality specific application for Reality systems</p>
                           </entry>
                           <entry class="- topic/entry ">
                              <codeph platform="PxW WxW SDC"
                                      translate="no"
                                      class="+ topic/ph pr-d/codeph ">apc_hw5_sxw_692.bin</codeph>
                              <codeph platform="PXP" translate="no" class="+ topic/ph pr-d/codeph ">apc_hw5_pxc_692.bin</codeph>
                           </entry>
                        </row>
                        <row class="- topic/row ">
                           <entry class="- topic/entry ">
                              <p class="- topic/p ">APC operating system (AOS)</p>
                           </entry>
                           <entry class="- topic/entry ">
                              <p class="- topic/p ">Can be thought of as the operating system of the NMC</p>
                           </entry>
                           <entry class="- topic/entry ">
                              <codeph translate="no" class="+ topic/ph pr-d/codeph ">apc_hw5_aos_692.bin</codeph>
                           </entry>
                        </row>
                        <row class="- topic/row ">
                           <entry class="- topic/entry ">
                              <p class="- topic/p ">Boot monitor (BM)</p>
                           </entry>
                           <entry class="- topic/entry ">
                              <p class="- topic/p ">Can be thought of as the BIOS of the NMC</p>
                           </entry>
                           <entry class="- topic/entry ">
                              <codeph translate="no" class="+ topic/ph pr-d/codeph ">apc_hw5_bootmon_108.bin</codeph>
                           </entry>
                        </row>
                     </tbody>
                  </tgroup>
               </table>
            </p>
            <note type="important" class="- topic/note ">To update the firmware correctly
always update the BM first, then the AOS and the APP last.</note>
         </sectiondiv>
      </section>
      <section class="- topic/section ">
         <title class="- topic/title ">Update the NMC Firmware with FTP</title>
         <p class="- topic/p ">To update
the firmware using FTP the NMC needs to have FTP enabled and an IP
address, subnet mask and default gateway configured. The NMC and the
computer also needs to be on the same network.</p>
         <p class="- topic/p ">
            <ol class="- topic/ol ">
               <li class="- topic/li ">
                  <p class="- topic/p ">From a computer on the same network as the NMC open a command
prompt window.</p>
               </li>
               <li class="- topic/li ">
                  <p class="- topic/p ">Go to the directory that contains the firmware files and list
the files:<codeph translate="no" class="+ topic/ph pr-d/codeph ">C:\&gt;cd apc</codeph>
                     <codeph translate="no" class="+ topic/ph pr-d/codeph ">C:\apc&gt;dir</codeph>
                  </p>
               </li>
               <li class="- topic/li ">
                  <p class="- topic/p ">First update the BM:</p>
                  <ol class="- topic/ol ">
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">C:\apc&gt;ftp</codeph> to open an
FTP session.</p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">ftp&gt; open xxx.xxx.xxx.xxx:xxxx</codeph> and press <uicontrol translate="no" class="+ topic/ph ui-d/uicontrol ">Enter</uicontrol> to confirm.<note class="- topic/note ">Where <codeph translate="no" class="+ topic/ph pr-d/codeph ">xxx.xxx.xxx.xxx</codeph> is the IP address
of the NMC and <codeph translate="no" class="+ topic/ph pr-d/codeph ">:xxxx</codeph> is the specified
port if used. Some FTP clients might use a space instead of a colon.</note>
                        </p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Log on as a super-user or administrator.</p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">ftp&gt; bin</codeph> and press <uicontrol translate="no" class="+ topic/ph ui-d/uicontrol ">Enter</uicontrol>
                        </p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">ftp&gt; put apc_hw05_bm_<i class="+ topic/ph hi-d/i ">nnn</i>.bin</codeph>
                           <note class="- topic/note ">Where <codeph translate="no" class="+ topic/ph pr-d/codeph ">
                                 <i class="+ topic/ph hi-d/i ">nnn</i>
                              </codeph> is the version number.</note>
                        </p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Wait until there is a confirmation that the transfer is complete.</p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">quit</codeph> to exit from the
FTP session.</p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Wait 20 seconds while the card is rebooting before proceeding
with the AOS update.</p>
                     </li>
                  </ol>
               </li>
               <li class="- topic/li ">
                  <p class="- topic/p ">Then update the AOS:</p>
                  <ol class="- topic/ol ">
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">C:\apc&gt;ftp</codeph> to open an
FTP session.</p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">ftp&gt; open xxx.xxx.xxx.xxx:xxxx</codeph> and press <uicontrol translate="no" class="+ topic/ph ui-d/uicontrol ">Enter</uicontrol> to confirm.<note class="- topic/note ">Where <codeph translate="no" class="+ topic/ph pr-d/codeph ">xxx.xxx.xxx.xxx</codeph> is the IP address
of the NMC and <codeph translate="no" class="+ topic/ph pr-d/codeph ">:xxxx</codeph> is the specified
port if used. Some FTP clients might use a space instead of a colon.</note>
                        </p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Log on as a super-user or administrator.</p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">ftp&gt; bin</codeph> and press <uicontrol translate="no" class="+ topic/ph ui-d/uicontrol ">Enter</uicontrol>.</p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">ftp&gt; put apc_hw05_aos_<i class="+ topic/ph hi-d/i ">nnn</i>.bin</codeph>
                           <note class="- topic/note ">Where <codeph translate="no" class="+ topic/ph pr-d/codeph ">
                                 <i class="+ topic/ph hi-d/i ">nnn</i>
                              </codeph> is the version number.</note>
                        </p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">quit</codeph> to exit from the
FTP session.</p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Wait 20 seconds while the card is rebooting with the APP update.</p>
                     </li>
                  </ol>
               </li>
               <li class="- topic/li ">
                  <p class="- topic/p ">Lastly update the APP:</p>
                  <ol class="- topic/ol ">
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">C:\apc&gt;ftp</codeph> to open an
FTP session.</p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">ftp&gt; open xxx.xxx.xxx.xxx:xxxx</codeph> and press <uicontrol translate="no" class="+ topic/ph ui-d/uicontrol ">Enter</uicontrol> to confirm.<note class="- topic/note ">Where <codeph translate="no" class="+ topic/ph pr-d/codeph ">xxx.xxx.xxx.xxx</codeph> is the IP address
of the NMC and <codeph translate="no" class="+ topic/ph pr-d/codeph ">:xxxx</codeph> is the specified
port if used. Some FTP clients might use a space instead of a colon.</note>
                        </p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Log in using the user name <codeph translate="no" class="+ topic/ph pr-d/codeph ">apc</codeph> and the password <codeph translate="no" class="+ topic/ph pr-d/codeph ">Reality</codeph>.</p>
                        <note class="- topic/note ">The AOS update have reset the user name to <codeph translate="no" class="+ topic/ph pr-d/codeph ">apc</codeph> and the password to <codeph translate="no" class="+ topic/ph pr-d/codeph ">Reality</codeph>.</note>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">ftp&gt; bin</codeph> and press <uicontrol translate="no" class="+ topic/ph ui-d/uicontrol ">Enter</uicontrol>.</p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph platform="PxW WxW SDC"
                                   translate="no"
                                   class="+ topic/ph pr-d/codeph ">ftp&gt; put
apc_hw05_sxw_<i class="+ topic/ph hi-d/i ">nnn</i>.bin</codeph>
                           <codeph platform="PXP" translate="no" class="+ topic/ph pr-d/codeph ">ftp&gt; put apc_hw05_pxc_<i class="+ topic/ph hi-d/i ">nnn</i>.bin</codeph>.<note class="- topic/note ">Where <codeph translate="no" class="+ topic/ph pr-d/codeph ">
                                 <i class="+ topic/ph hi-d/i ">nnn</i>
                              </codeph> is the version
number.</note>
                        </p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">quit</codeph> to exit from the
FTP session.</p>
                     </li>
                     <li class="- topic/li ">
                        <p class="- topic/p ">Wait 20 seconds while the card is rebooting.</p>
                     </li>
                  </ol>
               </li>
            </ol>
         </p>
      </section>
      <section class="- topic/section ">
         <title class="- topic/title ">Verify Firmware Update</title>
         <sectiondiv class="- topic/sectiondiv ">
            <p class="- topic/p ">To verify
that the firmware update succeeded, and no error occurred it is possible
to:<ul class="- topic/ul ">
                  <li class="- topic/li ">
                     <p class="- topic/p ">Type <codeph translate="no" class="+ topic/ph pr-d/codeph ">xferStatus</codeph> in the CLI.</p>
                  </li>
                  <li class="- topic/li ">
                     <p class="- topic/p ">Use a SNMP GET to the <codeph translate="no" class="+ topic/ph pr-d/codeph ">mfiletransferStatusLastTransferResult</codeph> OID.</p>
                  </li>
               </ul>
            </p>
         </sectiondiv>
      </section>
   </conbody>
</concept>
